{"version":3,"file":"login.js","sources":["pages/login/login.vue","../../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<template>\r\n  <view class=\"login-container\">\r\n    <view class=\"login-box\">\r\n      <view class=\"login-header\">\r\n        <text class=\"title\">云健健身</text>\r\n        <text class=\"subtitle\">会员登录</text>\r\n      </view>\r\n      <view class=\"login-form\">\r\n        <view class=\"form-item\">\r\n          <input\r\n            class=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"请输入用户名\"\r\n            v-model=\"loginForm.username\"\r\n          />\r\n        </view>\r\n        <view class=\"form-item\">\r\n          <input\r\n            class=\"input\"\r\n            type=\"password\"\r\n            placeholder=\"请输入密码\"\r\n            v-model=\"loginForm.password\"\r\n            @confirm=\"handleLogin\"\r\n          />\r\n        </view>\r\n        <button class=\"login-button\" :loading=\"loading\" @click=\"handleLogin\">\r\n          登录\r\n        </button>\r\n        <view class=\"register-link\">\r\n          <text>还没有账号？</text>\r\n          <text class=\"link\" @click=\"goToRegister\">立即注册</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport userStore from '../../store/user.js'\r\nimport { login } from '../../api/auth.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loginForm: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      loading: false\r\n    }\r\n  },\r\n  methods: {\r\n    async handleLogin() {\r\n      if (!this.loginForm.username) {\r\n        uni.showToast({\r\n          title: '请输入用户名',\r\n          icon: 'none'\r\n        })\r\n        return\r\n      }\r\n      if (!this.loginForm.password) {\r\n        uni.showToast({\r\n          title: '请输入密码',\r\n          icon: 'none'\r\n        })\r\n        return\r\n      }\r\n      \r\n      this.loading = true\r\n      try {\r\n        await userStore.loginUser(this.loginForm.username, this.loginForm.password)\r\n        uni.showToast({\r\n          title: '登录成功',\r\n          icon: 'success'\r\n        })\r\n        setTimeout(() => {\r\n          uni.switchTab({\r\n            url: '/pages/index/index'\r\n          })\r\n        }, 1500)\r\n      } catch (error) {\r\n        uni.showToast({\r\n          title: error.message || '登录失败',\r\n          icon: 'none'\r\n        })\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    goToRegister() {\r\n      uni.navigateTo({\r\n        url: '/pages/register/register'\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  width: 100%;\r\n  height: 100vh;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40rpx;\r\n}\r\n\r\n.login-box {\r\n  width: 100%;\r\n  max-width: 600rpx;\r\n  background: #ffffff;\r\n  border-radius: 32rpx;\r\n  padding: 80rpx 60rpx;\r\n  box-shadow: 0 20rpx 80rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.login-header {\r\n  text-align: center;\r\n  margin-bottom: 80rpx;\r\n}\r\n\r\n.title {\r\n  display: block;\r\n  font-size: 64rpx;\r\n  font-weight: 600;\r\n  color: #303133;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.subtitle {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  color: #909399;\r\n}\r\n\r\n.login-form {\r\n  width: 100%;\r\n}\r\n\r\n.form-item {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.input {\r\n  width: 100%;\r\n  height: 88rpx;\r\n  padding: 0 24rpx;\r\n  background: #f5f7fa;\r\n  border-radius: 16rpx;\r\n  font-size: 28rpx;\r\n  color: #303133;\r\n}\r\n\r\n.login-button {\r\n  width: 100%;\r\n  height: 88rpx;\r\n  background: #667eea;\r\n  color: #ffffff;\r\n  border-radius: 16rpx;\r\n  font-size: 32rpx;\r\n  font-weight: 500;\r\n  margin-top: 40rpx;\r\n  border: none;\r\n}\r\n\r\n.register-link {\r\n  text-align: center;\r\n  margin-top: 40rpx;\r\n  font-size: 28rpx;\r\n  color: #909399;\r\n}\r\n\r\n.link {\r\n  color: #667eea;\r\n  margin-left: 8rpx;\r\n}\r\n</style>\r\n\r\n","import MiniProgramPage from 'D:/Code/Java/CloudFitness/user/cloudfit/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","userStore"],"mappings":";;;AAyCA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,WAAW;AAAA,QACT,UAAU;AAAA,QACV,UAAU;AAAA,MACX;AAAA,MACD,SAAS;AAAA,IACX;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,MAAM,cAAc;AAClB,UAAI,CAAC,KAAK,UAAU,UAAU;AAC5BA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AACA,UAAI,CAAC,KAAK,UAAU,UAAU;AAC5BA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAEA,WAAK,UAAU;AACf,UAAI;AACF,cAAMC,WAAS,UAAC,UAAU,KAAK,UAAU,UAAU,KAAK,UAAU,QAAQ;AAC1ED,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD,mBAAW,MAAM;AACfA,wBAAAA,MAAI,UAAU;AAAA,YACZ,KAAK;AAAA,WACN;AAAA,QACF,GAAE,IAAI;AAAA,MACP,SAAO,OAAO;AACdA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO,MAAM,WAAW;AAAA,UACxB,MAAM;AAAA,SACP;AAAA,MACH,UAAU;AACR,aAAK,UAAU;AAAA,MACjB;AAAA,IACD;AAAA,IACD,eAAe;AACbA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;AC9FA,GAAG,WAAW,eAAe;"}